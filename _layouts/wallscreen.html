{% assign wallscreen = site.data.wallscreens[page.wallscreen] %}
<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{{ page.title }}</title>
    <meta name="description" content="{{ page.description }}">
    <meta name="author" content="Gary Geisler">

    <link rel="icon" href="/images/favicon.ico">
    <script src="/js/qrcode.min.js"></script>
    <script type="module" src="/js/experiences.js"></script>
    <script src="/js/openseadragon.js"></script>
    <script src="/js/application.js"></script>

    <link rel="stylesheet" href="/css/wallscreen.css?v=1.0">
    {% if page.extra_css %}
      <link rel="stylesheet" href="/css/{{page.extra_css}}.css?v=1.0">
    {% endif %}
  </head>

  <body>
    {% for other_experience in wallscreen.experiences %}
      {% if other_experience.key == page.experience %}
        {% assign next_index = forloop.index0 | plus: 1 %}
        {% assign next_experience = wallscreen.experiences[next_index] %}
        {% break %}
      {% endif %}
    {% endfor %}

    <div class="wallscreen"
      {% if page.controller %}
      data-controller="{{ page.controller }} more-info"
      {% if next_experience.key %}data-{{page.controller}}-next-value="{% link _wallscreens/{{ page.wallscreen }}/{{ next_experience.key }}/index.html %}" {% endif %}
      {% case page.controller %}
        {% when 'oral-history' %}
        data-action="more-info:show->oral-history#pause more-info:hide->oral-history#unpause more-info:show->oral-history#resetAutoplayTimer more-info:hide->oral-history#resetAutoplayTimer"
        {% else %}
        data-action="click@document->{{ page.controller }}#resetAutoplayTimer"
      {% endcase %}
      {% endif %}>
      {{ content }}
    </div>
  </body>
</html>
